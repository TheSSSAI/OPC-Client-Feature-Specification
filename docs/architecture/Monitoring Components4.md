[{'id': 'metrics-and-alerting', 'name': 'Metrics Collection and Alerting', 'type': 'MetricsAndAlerting', 'description': 'Collects time-series metrics from all system components for monitoring, visualization, and alerting. It scrapes standardized /metrics endpoints exposed by microservices and the OPC Core Client, and integrates with Kubernetes for service discovery. Critical alerts are routed to on-call personnel.', 'provider': 'Prometheus & Alertmanager', 'features': ['Metric scraping from all microservices and OPC Core Clients (REQ-1-090)', 'Monitoring of Kubernetes cluster and pod resources (CPU, memory) to support HPA (REQ-1-085)', 'Centralized alerting rules engine', 'Integration with PagerDuty and Slack for critical notifications (REQ-1-090)', 'Health monitoring of OPC Core Client instances (CPU, memory, connection status) (REQ-1-062)'], 'configuration': {'ScrapeInterval': '30s', 'AlertRules': ['High CPU/Memory Utilization on Pods', 'API P95 Latency > 200ms (REQ-1-074)', 'High gRPC/MQTT message queue depth', 'OPC Client Offline/Heartbeat Missing', 'Database Connection Pool Saturation'], 'AlertmanagerReceivers': 'PagerDuty, Slack'}}, {'id': 'log-aggregation', 'name': 'Centralized Log Aggregation', 'type': 'LogAggregation', 'description': 'Aggregates logs from all containers and services into a centralized, searchable data store. Ensures all log entries are structured in a consistent JSON format to facilitate correlation and analysis.', 'provider': 'Fluentd & OpenSearch', 'features': ['Log collection from all containerized services in EKS (REQ-1-090)', 'Structured JSON logging with mandatory fields (timestamp, severity, service, correlation ID) (REQ-1-090)', 'Centralized storage and indexing for fast querying and analysis', 'Log retention policies managed by OpenSearch Index State Management, aligning with REQ-1-088'], 'configuration': {'LogFormat': 'JSON', 'RequiredFields': 'timestamp, severity, service_name, correlation_id', 'FluentdPipeline': 'Collect -> Parse -> Enrich (with K8s metadata) -> Route to OpenSearch', 'DefaultRetention': '7 years for audit logs, configurable for others'}}, {'id': 'distributed-tracing', 'name': 'Distributed Tracing', 'type': 'APM', 'description': 'Provides end-to-end tracing for requests as they travel across the microservices architecture. It enables visualization of request paths, identification of performance bottlenecks, and dependency analysis between services.', 'provider': 'OpenTelemetry', 'features': ['Instrumentation of all .NET 8 microservices (REQ-1-090)', 'Automatic propagation of trace context (correlation IDs) across service boundaries (gRPC and REST)', 'Latency analysis for individual spans within a trace', 'Generation of service dependency graphs', 'Integration with a compatible backend (e.g., Jaeger, AWS X-Ray) for trace storage and visualization'], 'configuration': {'Instrumentation': 'Automatic (.NET SDK) and Manual for custom spans', 'SamplingStrategy': 'ParentBased(TraceIdRatioBased(0.1)) - 10% sampling in production, configurable', 'TraceExporter': 'OTLP (OpenTelemetry Protocol) to a collector service', 'ContextPropagation': 'W3C Trace Context'}}, {'id': 'observability-visualization', 'name': 'Observability Visualization', 'type': 'Visualization', 'description': 'Provides a unified dashboarding and visualization platform for all observability data. It connects to Prometheus for metrics and OpenSearch for logs, allowing for the creation of comprehensive system health and performance dashboards.', 'provider': 'Grafana', 'features': ['Unified dashboards for metrics and logs (REQ-1-090)', 'Visualization of system performance KPIs (e.g., API latency, data ingestion rates) (REQ-1-074, REQ-1-075)', 'Dashboards for Kubernetes cluster health, individual microservice performance, and database performance', 'Fleet-level and individual health dashboards for distributed OPC Core Clients (REQ-1-062)'], 'configuration': {'DataSources': 'Prometheus, OpenSearch', 'PrebuiltDashboards': ['Kubernetes Cluster Health', 'API Gateway (Kong) Performance', '.NET Service Performance', 'TimescaleDB/PostgreSQL Health', 'OPC Core Client Fleet Overview']}}, {'id': 'service-health-probes', 'name': 'Service Health Probes', 'type': 'HealthMonitoring', 'description': 'Implements standardized health check endpoints within each microservice and the OPC Core Client container to allow Kubernetes to manage their lifecycle automatically. Ensures that traffic is not routed to unhealthy instances and that failed instances are restarted.', 'provider': '.NET HealthChecks & Kubernetes Probes', 'features': ['Liveness endpoint (/healthz) to detect and restart crashed or deadlocked containers (REQ-1-091)', 'Readiness endpoint (/readyz) to ensure a container is fully initialized and ready to accept traffic (REQ-1-091)', 'Integration with Kubernetes for automated container health management', 'Health checks include verification of dependencies like database connectivity'], 'configuration': {'LivenessProbe': 'HTTP GET on /healthz, initialDelaySeconds: 15, periodSeconds: 20', 'ReadinessProbe': 'HTTP GET on /readyz, initialDelaySeconds: 5, periodSeconds: 10', 'EndpointImplementation': 'ASP.NET Core Health Checks middleware'}}]

